<html>
  <head>
	<style type="text/css">
	body {
		font-size: 10pt;
	}
	.house_tag {
		position: absolute;
		bottom:5px;
		right: 5px;
	}
	div#center_box {
		position: fixed;
		left: 25%;
		top: 25%;
		width: 50%;
		height: 50%;
		overflow: hidden;
	}
	</style>
  <script language="JavaScript" src="jquery.min.js"></script>
	<script language="JavaScript">
	/**
	 * 星象學
	 */
	function AHelper2() {
	  "use strict";
		// these routines are copyright Kai Nicolai Priddy 1998
		// please don't copy or use this code without permission...
		// Basic calculation algorithms taken from:
		// Michael Erlewine - Computer programming for Astrologers

		this.datacounter=0;
		this.sharedjulday=0;
		this.sharedgmt=0;
		this.sharedhsys="";
		this.sharedew="";
		this.sharedns="";
		this.astroserver="http://www.astrology-numerology.com/"
		this.destinyserver="http://destiny.xfiles.to/astrology/teach/basic/";

		this.errmess=new Array("","日期錯誤: 只接受 1900 到 2300 年的範圍.","Latitude too great error: Polar locations are not allowed.")

		this.house=new Array(13);
		this.plinhouse=new Array(10);
		this.planet = new Array(12);

		this.PlanetData = new Array(144);

		// Sun data
		this.PlanetData[1] = 358.4758;
		this.PlanetData[2] = 35999.0498;
		this.PlanetData[3] = -.0002;
		this.PlanetData[4] = .01675;
		this.PlanetData[5] = -.4E-4;
		this.PlanetData[6] = 0;
		this.PlanetData[7] = 1;
		this.PlanetData[8] = 101.2208;
		this.PlanetData[9] = 1.7192;
		this.PlanetData[10] = .00045;
		this.PlanetData[11] = 0;
		this.PlanetData[12] = 0;
		this.PlanetData[13] = 0;
		this.PlanetData[14] = 0;
		this.PlanetData[15] = 0;
		this.PlanetData[16] = 0;
		// Mercury data
		this.PlanetData[17] = 102.2794;
		this.PlanetData[18] = 149472.515;
		this.PlanetData[19] = 0;
		this.PlanetData[20] = .205614;
		this.PlanetData[21] = .2E-4;
		this.PlanetData[22] = 0;
		this.PlanetData[23] = .3871;
		this.PlanetData[24] = 28.7538;
		this.PlanetData[25] = .3703;
		this.PlanetData[26] = .0001;
		this.PlanetData[27] = 47.1459;
		this.PlanetData[28] = 1.1852;
		this.PlanetData[29] = .0002;
		this.PlanetData[30] = 7.009;
		this.PlanetData[31] = .00186;
		this.PlanetData[32] = 0;
		// Venus data
		this.PlanetData[33] = 212.6032;
		this.PlanetData[34] = 58517.8039;
		this.PlanetData[35] = .0013;
		this.PlanetData[36] = .00682;
		this.PlanetData[37] = -.5E-4;
		this.PlanetData[38] = 0;
		this.PlanetData[39] = .7233;
		this.PlanetData[40] = 54.3842;
		this.PlanetData[41] = .5082;
		this.PlanetData[42] = -.14E-2;
		this.PlanetData[43] = 75.7796;
		this.PlanetData[44] = .8999;
		this.PlanetData[45] = .4E-3;
		this.PlanetData[46] = 3.3936;
		this.PlanetData[47] = .1E-2;
		this.PlanetData[48] = 0;
		// Mars data
		this.PlanetData[49] = 319.5294;
		this.PlanetData[50] = 19139.8585;
		this.PlanetData[51] = .2E-3;
		this.PlanetData[52] = .09331;
		this.PlanetData[53] = .9E-4;
		this.PlanetData[54] = 0;
		this.PlanetData[55] = 1.5237;
		this.PlanetData[56] = 285.4318;
		this.PlanetData[57] = 1.0698;
		this.PlanetData[58] = .1E-3;
		this.PlanetData[59] = 48.7864;
		this.PlanetData[60] = .77099;
		this.PlanetData[61] = 0;
		this.PlanetData[62] = 1.8503;
		this.PlanetData[63] = -.7E-3;
		this.PlanetData[64] = 0;
		// Jupiter data
		this.PlanetData[65] = 225.4928;
		this.PlanetData[66] = 3033.6879;
		this.PlanetData[67] = 0;
		this.PlanetData[68] = .04838;
		this.PlanetData[69] = -.2E-4;
		this.PlanetData[70] = 0;
		this.PlanetData[71] = 5.2029;
		this.PlanetData[72] = 273.393;
		this.PlanetData[73] = 1.3383;
		this.PlanetData[74] = 0;
		this.PlanetData[75] = 99.4198;
		this.PlanetData[76] = 1.0583;
		this.PlanetData[77] = 0;
		this.PlanetData[78] = 1.3097;
		this.PlanetData[79] = -.52E-2;
		this.PlanetData[80] = 0;
		// Saturn data
		this.PlanetData[81] = 174.2153;
		this.PlanetData[82] = 1223.50796;
		this.PlanetData[83] = 0;
		this.PlanetData[84] = .05423;
		this.PlanetData[85] = -.2E-3;
		this.PlanetData[86] = 0;
		this.PlanetData[87] = 9.5525;
		this.PlanetData[88] = 338.9117;
		this.PlanetData[89] = -.3167;
		this.PlanetData[90] = 0;
		this.PlanetData[91] = 112.8261;
		this.PlanetData[92] = .8259;
		this.PlanetData[93] = 0;
		this.PlanetData[94] = 2.4908;
		this.PlanetData[95] = -.0047;
		this.PlanetData[96] = 0;
		// Uranus data
		this.PlanetData[97] = 74.1757;
		this.PlanetData[98] = 427.2742;
		this.PlanetData[99] = 0;
		this.PlanetData[100] = .04682;
		this.PlanetData[101] = .00042;
		this.PlanetData[102] = 0;
		this.PlanetData[103] = 19.2215;
		this.PlanetData[104] = 95.6863;
		this.PlanetData[105] = 2.0508;
		this.PlanetData[106] = 0;
		this.PlanetData[107] = 73.5222;
		this.PlanetData[108] = .5242;
		this.PlanetData[109] = 0;
		this.PlanetData[110] = .7726;
		this.PlanetData[111] = .1E-3;
		this.PlanetData[112] = 0;
		// Neptune data
		this.PlanetData[113] = 30.13294;
		this.PlanetData[114] = 240.45516;
		this.PlanetData[115] = 0;
		this.PlanetData[116] = .00913;
		this.PlanetData[117] = -.00127;
		this.PlanetData[118] = 0;
		this.PlanetData[119] = 30.11375;
		this.PlanetData[120] = 284.1683;
		this.PlanetData[121] = -21.6329;
		this.PlanetData[122] = 0;
		this.PlanetData[123] = 130.68415;
		this.PlanetData[124] = 1.1005;
		this.PlanetData[125] = 0;
		this.PlanetData[126] = 1.7794;
		this.PlanetData[127] = -.0098;
		this.PlanetData[128] = 0;
		// PLUTO data
		this.PlanetData[129] = 229.94722;
		this.PlanetData[130] = 144.91306;
		this.PlanetData[131] = 0;
		this.PlanetData[132] = 0.24864;
		this.PlanetData[133] = 0;
		this.PlanetData[134] = 0;
		this.PlanetData[135] = 39.51774;
		this.PlanetData[136] = 113.52139;
		this.PlanetData[137] = 0;
		this.PlanetData[138] = 0;
		this.PlanetData[139] = 108.95444;
		this.PlanetData[140] = 1.39601;
		this.PlanetData[141] = 0.00031;
		this.PlanetData[142] = 17.14678;
		this.PlanetData[143] = 0;
		this.PlanetData[144] = 0;

		//this.signs = new Array("","牡羊座","金牛座","雙子座","巨蟹座","獅子座","處女座","天秤座","天蠍座","射手座","摩羯座","水瓶座","雙魚座");
		this.signs = new Array("","戌","酉","申","未","午","巳","辰","卯","寅","丑","子","亥");

		this.planetname = new Array("","日","月","水","金","火","木","土","天","海","冥","宿","東");

		this.aspargus = new Array("","aspects-sun.html","aspects-moon.html","aspects-mercury.html","aspects-venus.html","aspects-mars.html","aspects-jupiter.html","aspects-saturn.html","aspects-uranus.html","aspects-neptune.html")

		this.anchorinhs = new Array("","#First","#Second","#Third","#Fourth","#Fifth","#Sixth","#Seventh","#Eighth","#Ninth","#Tenth","#Eleventh","#Twelfth")

		this.plargus = new Array("","sun.html","moon.html","mercury.html","venus.html","mars.html","jupiter.html","saturn.html","uranus.html","neptune.html","pluto.html")

		this.hsargus = new Array("","1st.html","2nd.html","3rd.html","4th.html","5th.html","6th.html","7th.html","8th.html","9th.html","10th.html")

		this.months = new Array("","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec")

		//this.housename = new Array("","Ascendant ","2nd house ","3rd house ","4th house","5th house ","6th house ","7th house ","8th house ","9th house ","Midheaven ","11th house ","12th house ")
		this.housename = new Array("","01 ","02","03","04","05","06","07","08","09","10 ","11","12")
	  
		this.getCookie = function(Name) {
		   var search = Name + "=";
		   if (document.cookie.length > 0) { // if there are any cookies
				offset = document.cookie.indexOf(search);
				if (offset != -1) { // if cookie exists 
					offset += search.length;
					// set index of beginning of value
					end = document.cookie.indexOf(";", offset);
					// set index of end of cookie value
					if (end == -1) 
						end = document.cookie.length;
					return unescape(document.cookie.substring(offset, end));
				} 
			}
		};
		this.makechart = function() {
			/**
			this.store("Bname",document.inputForm.Bname.value);
			this.store("Bday",document.inputForm.Bday.value);
			var sel=document.inputForm.Bmth.selectedIndex;
			this.store("Bmth",document.inputForm.Bmth.options[sel].value);
			this.store("Byear",document.inputForm.Byear.value);
			this.store("Bhrs",document.inputForm.Bhrs.value)
			this.store("Bmin",document.inputForm.Bmin.value);
			var sel=document.inputForm.Bzone.selectedIndex;
			this.store("Bzone",document.inputForm.Bzone.options[sel].value);
			this.store("Bdst",document.inputForm.Bdst.checked);
			this.store("Blondeg",document.inputForm.Blondeg.value);
			this.store("Blonmin",document.inputForm.Blonmin.value);
			this.store("Bloneast",document.inputForm.Bloneast[0].checked);
			this.store("Blatdeg",document.inputForm.Blatdeg.value);
			this.store("Blatmin",document.inputForm.Blatmin.value);
			this.store("Blatsouth",document.inputForm.Blatsouth[1].checked);
			this.store("Bhsys",document.inputForm.Bhsys[1].checked);
			this.store("Bcity",document.inputForm.Bcity.value);
			this.store("Bcountry",document.inputForm.Bcountry.value);
			*/
			var Bname = this.getCookie("Bname");
			var Bday = this.getCookie("Bday");
			var Bmth = this.getCookie("Bmth");
			var Byear = this.getCookie("Byear");
			var Bhrs  = this.getCookie("Bhrs");
			var Bmin = this.getCookie("Bmin");
			var Bzone = this.getCookie("Bzone");
			var Bdst = this.getCookie("Bdst");
			var Blondeg  = this.getCookie("Blondeg");
			var Blonmin  = this.getCookie("Blonmin");
			var  Bloneast = this.getCookie("Bloneast");
			var Blatdeg = this.getCookie("Blatdeg");
			var Blatmin = this.getCookie("Blatmin");
			var Blatsouth = this.getCookie("Blatsouth");
			var Bhsys = this.getCookie("Bhsys");
			var Bcity = this.getCookie("Bcity");
			var Bcountry = this.getCookie("Bcountry");
			this.makechart2(Bname,Bday,Bmth,Byear,Bhrs,Bmin,Bzone,Bdst,
				Blondeg,Blonmin,Bloneast,Blatdeg,Blatmin,Blatsouth,Bhsys,Bcity,Bcountry);
		};
		this.makechart2 = function(Bname,Bday,Bmth,Byear,Bhrs,Bmin,Bzone,Bdst,
			Blondeg,Blonmin,Bloneast,Blatdeg,Blatmin,Blatsouth,Bhsys,Bcity,Bcountry) {
			var retval,ra,ob,flag360,cusp1,cusp2,temp;
			//
			var check=eval(Byear);
			if (isNaN(check)) {check=0}
			if (check < 1900 || check > 2300) {
				retval=1;
			}
			else {
				retval=0;
				var d=this.julian_day(eval(Bday),eval(Bmth),eval(Byear));
				this.sharedjulday=d;
				var loct=this.FNdec(eval(Bhrs),eval(Bmin),0);
				var zone=eval(Bzone);
				if (Bdst == "true") {
					var dst=1;
				}
				else {
					var dst=0;
				}
				if (zone < 0) {
					zone=Math.abs(zone);
					var gmt=loct-(zone+dst);
					if (gmt < 0) {
						gmt+=24;
						d-=1;
					}
				}
				else {
					var gmt=loct+(zone-dst);
					if (gmt > 24) {
						gmt-=24;
						d+=1;
					}
				}

				this.sharedgmt=gmt;
				this.sharedew="West";
				this.sharedns="North";

				var lon=this.FNdec(eval(Blondeg),eval(Blonmin),0);
				if (Bloneast == "true") {
					lon=(lon*-1);
					this.sharedew="East";
				}
				var lat=this.FNdec(eval(Blatdeg),eval(Blatmin),0);
				if (Blatsouth == "true") {
					lat=(lat*-1);
					this.sharedns="South";
				}

				if (Math.abs(lat) > 66.6) {retval=2}

				var t=this.FNcentury(d,gmt);

				ra=this.FNramc(t,gmt,lon);
				ob=this.FNobl(t);

				var junk=this.planets_aa1(t);
				this.planet[2]=this.ex_moon(t);
				this.planet[11]=this.vertex(ra,ob,this.FNrad(lat));
				this.planet[12]=this.eastpoint(ra,ob);
				if (Bhsys == "true") {
					var junk=this.placidus(ra,ob,this.FNrad(lat));
					this.sharedhsys="Placidus";
				}
				else {
					var junk=this.koch(ra,ob,this.FNrad(lat));
					this.sharedhsys="Koch";
				}

				for (var i=1; i < 13; i++) {
					flag360=false;
					cusp1=this.house[i];
					if (i == 12) {
						cusp2=this.house[1];
					}
					else {
						cusp2=this.house[i+1];
					}
					if (cusp1 > cusp2) {
						cusp1=this.FNmod(cusp1+180);
						cusp2=this.FNmod(cusp2+180);
						flag360=true;
					}
					for (var j=1; j < 11; j++) {
						if (!flag360) {
							temp=this.planet[j];
						}
						else {
							temp=this.FNmod(this.planet[j]+180)
						}
						if (temp >= cusp1 && temp < cusp2) {
							this.plinhouse[j]=i;
						}
					}
				}
			}
			return retval;
		};

		this.julian_day = function(day, month, year) {
		   var im=(12*(year+4800))+(month-3);
		   var j=this.wholediv((2*(im-(this.wholediv(im,12))*12)+7+365*im),12);
		   j=parseInt(j)+day+parseInt(this.wholediv(im,48))-32083;
		   if (j>2299171)
				j=j+parseInt(this.wholediv(im,4800))-parseInt(this.wholediv(im,1200))+38;
			return j;
		};

		this.wholediv = function(a,b) {
			var result=a%b;
			a=a-result;
			result=a/b;
			return result;
		};

		this.ex_moon = function(t) {
			var t2=t*t;
			var da=t*36525;
			var ln=this.FNmod(259.1833-0.05295392*da+(0.000002*t+0.002078)*t2);
			var ms=this.FNmod(279.69668+36000.7689*t+0.0003025*t2);
			var de=this.FNmod(350.737486+445267.114*t-0.001436*t2);
			var lp=this.FNmod(334.32956+0.11140408*da+(-0.000012*t+0.010325)*t2);
			var ma=this.FNmod(358.47584+35999.04975*t-0.00015*t2);
			var ml=this.FNmod(270.434164+13.1763965*da+(0.0000019*t-0.001133)*t2);
			var nu=(-(17.2327+0.01737*t)*this.FNsin(ln)-1.273*this.FNsin(2*ms))/3600;
			var el=this.FNmod(296.1046083+477198.849*t+0.00919167*t*t);
			// Exact moon calculation starts here
			el=ma;
			var ll=ml-lp;
			var ff=ml-ln;
			//Longterm lunar perturbations coefficients
			var w=this.FNsin(51.2+20.2*t);
			var x=this.FNsin(193.4404-132.87*t-0.0091731*t2)*14.27;
			var y=this.FNsin(ln);
			var z=-15.58*this.FNsin(ln+275.05-2.3*t);
			//Correction to elements
			ml=(0.84*w+x+7.261*y)/3600+ml;
			ll=(2.94*w+x+9.337*y)/3600+ll;
			de=(7.24*w+x+7.261*y)/3600+de;
			el=-6.40*w/3600+el;
			ff=(0.21*w+x-88.699*y-15.58*z)/3600+ff;
			//Short term lunar perturbations
			var l=22639.55*this.FNsin(ll)-4586.47*this.FNsin(ll-2*de)+2369.912*this.FNsin(2*de);
			l=l+769.02*this.FNsin(2*ll)-668.15*this.FNsin(el);
			l=l-411.61*this.FNsin(2*ff)-211.66*this.FNsin(2*ll-2*de)-205.96*this.FNsin(ll+el-2*de);
			l=l+191.95*this.FNsin(ll+2*de)-165.15*this.FNsin(el-2*de);
			l=l+147.69*this.FNsin(ll-el)-125.15*this.FNsin(de)-109.67*this.FNsin(ll+el);
			l=l-55.17*this.FNsin(2*ff-2*de)-45.099*this.FNsin(ll+2*ff);
			l=l+39.53*this.FNsin(ll-2*ff)-38.43*this.FNsin(ll-4*de)+36.12*this.FNsin(3*ll);
			l=l-30.77*this.FNsin(2*ll-4*de)+28.48*this.FNsin(ll-el-2*de);
			l=l-24.42*this.FNsin(el+2*de);
			l=l+18.61*this.FNsin(ll-de)+18.02*this.FNsin(el+de)+14.58*this.FNsin(ll-el+2*de);
			l=l+14.39*this.FNsin(2*ll+2*de)+13.9*this.FNsin(4*de)-13.19*this.FNsin(3*ll-2*de);
			l=l+9.7*this.FNsin(2*ll-el)+9.37*this.FNsin(ll-2*ff-2*de)-8.63*this.FNsin(2*ll+el-2*de);
			l=l-8.47*this.FNsin(ll+de)-8.096*this.FNsin(2*el-2*de)-7.65*this.FNsin(2*ll+el);
			l=l-7.49*this.FNsin(2*el)-7.41*this.FNsin(ll+2*el-2*de)-6.38*this.FNsin(ll-2*ff+2*de);
			l=l-5.74*this.FNsin(2*ff+2*de)-4.39*this.FNsin(ll+el-4*de)-3.99*this.FNsin(2*ll+2*ff);
			l=l+3.22*this.FNsin(ll-3*de)-2.92*this.FNsin(ll+el+2*de)-2.74*this.FNsin(2*ll+el-4*de);
			l=l-2.49*this.FNsin(2*ll-el-2*de)+2.58*this.FNsin(ll-2*el)+2.53*this.FNsin(ll-2*el-2*de);
			l=l-2.15*this.FNsin(el+2*ff-2*de)+1.98*this.FNsin(ll+4*de)+1.94*this.FNsin(4*ll);
			l=l-1.88*this.FNsin(el-4*de)+1.75*this.FNsin(2*ll-de)-1.44*this.FNsin(el-2*ff+2*de);
			l=l-1.298*this.FNsin(2*ll-2*ff)-1.27*this.FNsin(ll+el+de)+1.23*this.FNsin(2*ll-3*de);
			l=l-1.19*this.FNsin(3*ll-4*de)+1.18*this.FNsin(2*ll-el+2*de)-1.17*this.FNsin(ll+2*el);
			l=l-1.09*this.FNsin(ll-el-de)+1.06*this.FNsin(3*ll+2*de)-0.59*this.FNsin(2*ll+de);
			l=l-0.99*this.FNsin(ll+2*ff+2*de)-0.95*this.FNsin(4*ll-2*de)-0.57*this.FNsin(2*ll-6*de);
			l=l+0.64*this.FNsin(ll-4*de)+0.56*this.FNsin(el-de)+0.76*this.FNsin(ll-2*el+2*de);
			l=l+0.58*this.FNsin(2*ff-de)-0.55*this.FNsin(3*ll+el)+0.68*this.FNsin(3*ll-el);
			l=(l+0.557*this.FNsin(2*ll+2*ff-2*de)+0.538*this.FNsin(2*ll-2*ff-2*de))/3600;
			return ml+l+nu;
		};

		this.planets_aa1 = function(ct) {
			var i=0;var dummy=0;var g=0;var xa=0;var ya=0;var za=0;var x1=0;var y1=0;
			var z1=0;var m=0;var e=0;var ea=0;var au=0;var e1=0;var xw=0;var yw=0;
			var zw=0;var ap=0;var an=0;var i_n=0;var x=0;var y=0;var r=0;var a=0;var d=0;var yh=0;
			//
			var xh, xx, yy, zz, xk, br, a2, r2, x2, y2, z2, c, ss, zh,ab,p;
			//
			this.datacounter=0;

			for (i=1; i < 11; i++) {
				if (i==2) {i++}
				m=this.FNrad(this.FNmod(this.FNdeg(this.FNterms(ct))));
				e=this.FNdeg(this.FNterms(ct));
				ea=m;
				for (var a=1; a < 5; a++) {ea=m+e*Math.sin(ea)}
				au=this.ReadData();
				e1=0.01720209/(Math.pow(au,1.5)*(1-e*Math.cos(ea)));
				xw=-(au*e1)*Math.sin(ea);
				yw=(au*e1)*Math.pow(Math.abs(1-e*e),0.5)*Math.cos(ea);
				ap=this.FNterms(ct);
				an=this.FNterms(ct);
				i_n=this.FNterms(ct);
				x=xw;
				y=yw;
			//rotate
				if (y==0) {y=1.7E-05};a=this.polara(x,y);r=this.polarr(x,y);a+=ap;
				if (a==0) {a=1.7E-05};x=r*Math.cos(a);y=r*Math.sin(a);d=x;x=y;y=0;
				if (y==0) {y=1.7E-05};a=this.polara(x,y);r=this.polarr(x,y);a+=i_n;
				if (a==0) {a=1.7E-05};x=r*Math.cos(a);y=r*Math.sin(a);g=y;y=x;x=d;
				if (y==0) {y=1.7E-05};a=this.polara(x,y);r=this.polarr(x,y);a+=an;
				if (a<0) {a+=(2*Math.PI)}
				if (a==0) {a=1.7E-05};x=r*Math.cos(a);y=r*Math.sin(a);

				xh=x;yh=y;zh=g;
				if (i==1)
					{xa=-xh;ya=-yh;za=-zh;ab=0;}
				else
					{xw=xh+xa;yw=yh+ya;zw=zh+za;}
				x=au*(Math.cos(ea)-e)
				y=au*Math.sin(ea)*Math.pow(Math.abs(1-e*e),0.5);
			//rotate
				if (y==0) {y=1.7E-05};a=this.polara(x,y);r=this.polarr(x,y);a+=ap;
				if (a==0) {a=1.7E-05};x=r*Math.cos(a);y=r*Math.sin(a);d=x;x=y;y=0;
				if (y==0) {y=1.7E-05};a=this.polara(x,y);r=this.polarr(x,y);a+=i_n;
				if (a==0) {a=1.7E-05};x=r*Math.cos(a);y=r*Math.sin(a);g=y;y=x;x=d;
				if (y==0) {y=1.7E-05};a=this.polara(x,y);r=this.polarr(x,y);a+=an;
				if (a<0) {a+=(2*Math.PI)}
				if (a==0) {a=1.7E-05};x=r*Math.cos(a);y=r*Math.sin(a);
				
				xx=x;yy=y;zz=g;
				xk=(xx*yh-yy*xh)/(xx*xx+yy*yy);
				br=0;
				a2=a;r2=r;x2=xx;y2=yy;z2=zz;

			//spherical i,xx,yy,zz,a,r,br,ab,ss,p,c 
				if (y2==0) {y2=1.7E-05};a2=this.polara(x2,y2);r2=this.polarr(x2,y2);
				c=this.FNdeg(a2)+br;
				if (i==1 && ab==1) {c=this.FNmod(c+180)}
				c=this.FNmod(c);
				ss=c;y2=z2;x2=r;
				if (y2==0) {y2=1.7E-05};a2=this.polara(x2,y2);r2=this.polarr(x2,y2);
				if (a2>0.35) {a2=a2+2*Math.PI}
				p=this.FNdeg(a2);

				ab=1;
				if (i==1){
					x1=xx;y1=yy;z1=zz;
				}
				else{
					xx-=x1;yy-=y1;zz-=z1;xk=(xx*yw-yy*xw)/(xx*xx+yy*yy);
				}
				br=0.0057683*Math.sqrt(xx*xx+yy*yy+zz*zz)*this.FNdeg(xk);
				a2=a;r2=r;x2=xx;y2=yy;z2=zz;

			//spherical i,xx,yy,zz,a,r,br,ab,ss,p,c 
				if (y2==0) {y2=1.7E-05};a2=this.polara(x2,y2);r2=this.polarr(x2,y2);
				c=this.FNdeg(a2)+br;
				if (i==1 && ab==1) {c=this.FNmod(c+180)}
				c=this.FNmod(c);
				this.planet[i]=c;
			}
			return c;
		};

		this.polara = function(x,y){
			var a=Math.atan(y/x);
			if (a<0) {a=a+Math.PI}
			if (y<0) {a=a+Math.PI}
			return a;
		};

		this.polarr = function(x,y){
			return Math.sqrt(x*x+y*y);
		};

		this.FNterms = function(ct){
			var s, s1, s2;
			s=this.ReadData();
			s1=this.ReadData();
			s2=this.ReadData();
			return this.FNrad(s+s1*ct+s2*ct*ct);
		};

		this.ReadData = function(){
			this.datacounter++;
			return this.PlanetData[this.datacounter];
		};

		this.FNcentury = function(jd,tme) {
			return ((jd-2415020)+((tme/24)-0.5))/36525;
		};
		this.FNrad = function(a) {return Math.PI/180*a};
		this.FNdeg = function(a) {return 180/Math.PI*a};
		this.FNsin = function(a) {return Math.sin(Math.PI/180*a)};
		this.FNcos = function(a) {return Math.cos(Math.PI/180*a)};
		this.FNdec = function(d,m,s) {return d+(m/60)+(s/3600)};
		this.FNmod = function(a) {
			if (a>360) {return a-(parseInt(a/360)*360)}
			else { return a }
		};
		this.FNasn = function(a) {return Math.atan(a/Math.sqrt(1-a*a))};
		this.FNacs = function(a) {return Math.atan(Math.sqrt(1-a*a)/a)};

		this.FNramc = function(t,gmt,lon){
			return this.FNrad(this.FNmod((6.6460656+(2400.0513*t)+(2.58E-05*t*t)+gmt)*15-lon));
		};
		this.FNobl = function(t){return this.FNrad(23.452294-0.0130125*t)};

		this.FNzodiac = function(l) {
			var c;
			if (l<30) {c=1} else {c=(l-(l%30))/30+1};
			if (c == 0 || c == 13) {c=1};
			return this.tohms(l,"&deg; ","' ") + this.signs[c];
		};
		this.FNzodiac2 = function(l) {
			var c;
			if (l<30) {c=1} else {c=(l-(l%30))/30+1};
			if (c == 0 || c == 13) {c=1};
			return this.signs[c];
		};

		this.tohms = function(ol,delimiter1,delimiter2) {
			var h, m, nl, hs, ms;
			if (ol<30) {nl=ol} else {nl=ol%30;ol=ol-nl}
			if (nl<1) {h=0} else{h=parseInt(nl);nl=nl-h}
			m=Math.round(nl*60);
			if (isNaN(h)) {h=0}
			if (isNaN(m)) {m=0}
			if (h<10) {hs="0"+parseInt(h)} else {hs=parseInt(h)}
			if (m<10) {ms="0"+parseInt(m)} else {ms=parseInt(m)}
			return hs + delimiter1 + ms + delimiter2;
		};

		this.midheaven = function(ra,ob){
			var x=Math.atan(Math.tan(ra)/Math.cos(ob));
			if (x<0) {x=x+Math.PI}
			if (Math.sin(ra)<0) {x=x+Math.PI}
			return this.FNmod(this.FNdeg(x));
		};

		this.ascendant = function(ra,ob,la){
			var asn=Math.atan(Math.cos(ra)/(-Math.sin(ra)*Math.cos(ob)-Math.tan(la)*Math.sin(ob)));
			if (asn<0) {asn=asn+Math.PI}
			if (Math.cos(ra)<0) {asn=asn+Math.PI}
			return this.FNmod(this.FNdeg(asn));
		};

		this.fortune = function(p1,p2,p3){
			if (p3<p1) {g1=360+p3} else {g1=p3}
			var g2=p1;
			var dif=g1-g2;
			var f=p2+dif;
			if (f>360) {f=f-360}
			return f;
		};

		this.eastpoint = function(ra,ob){return this.ascendant(ra,ob,0)};

		this.vertex = function(ra,ob,la){
			var x=Math.cos(ra+Math.PI);
			var y=-Math.sin(ra+Math.PI)*Math.cos(ob)-Math.sin(ob)/Math.tan(la);
			var vt=Math.atan(x/y);
			if (vt<0) {vt=vt+Math.PI}
			if (x<0) {vt=vt+Math.PI}
			return this.FNdeg(vt);
		};

		//koch
		this.koch = function(ra,ob,la) {
			var a1=this.FNasn(Math.sin(ra)*Math.tan(la)*Math.tan(ob));
			for (var i=1; i < 13; i++) {
				var d=this.FNmod(60+30*i);
				var a2=d/90-1;kn=1;
				if (d>=180) {kn=-1;a2=d/90-3}
				var a3=this.FNrad(this.FNmod(this.FNdeg(ra)+d+a2*this.FNdeg(a1)));
				var x=Math.atan(Math.sin(a3)/(Math.cos(a3)*Math.cos(ob)-kn*Math.tan(la)*Math.sin(ob)));
				if (x<0) {x=x+Math.PI}
				if (Math.sin(a3)<0) {x=x+Math.PI}
				this.house[i]=this.FNmod(this.FNdeg(x));
			}
			return true;
		};

		//placidus
		this.placidus = function(ra,ob,la){
			var mc=this.midheaven(ra,ob);
			this.house[4]=this.FNmod(mc+180);
			this.house[1]=this.ascendant(ra,ob,la);
			var r1=ra+this.FNrad(30);
			this.house[5]=this.FNmod(this.plac(3,0,r1,ra,ob,la)+180);
			r1=ra+this.FNrad(60);
			this.house[6]=this.FNmod(this.plac(1.5,0,r1,ra,ob,la)+180);
			r1=ra+this.FNrad(120);
			this.house[2]=this.FNmod(this.plac(1.5,1,r1,ra,ob,la));
			r1=ra+this.FNrad(150);
			this.house[3]=this.FNmod(this.plac(3,1,r1,ra,ob,la));
			for (var i=7; i < 13; i++) {this.house[i]=this.FNmod(this.house[i-6]+180);}
			return true;
		};

		this.plac = function(ff,y,r1,ra,ob,la){
			var x=-1;
			if (y == 1) {x=1}
			for (var i=1; i < 11; i++){
				var xx=this.FNacs(x*Math.sin(r1)*Math.tan(ob)*Math.tan(la));
				if (xx<0) {xx=xx+Math.PI}
				var r2=ra+(xx/ff);
				if (y == 1) {r2=ra+Math.PI-(xx/ff);}
				r1=r2;
			}
			var lo=Math.atan(Math.tan(r1)/Math.cos(ob));
			if (lo<0) {lo=lo+Math.PI}
			if (Math.sin(r1)<0) {lo=lo+Math.PI}
			return this.FNdeg(lo);
		};

		this.write_data = function(Bname,Bday,Bmth,Byear,Bhrs,Bmin,Bzone,Bdst,
			Blondeg,Blonmin,Bloneast,Blatdeg,Blatmin,Blatsouth,Bhsys,Bcity,Bcountry){

			var day=Bday;
			var month=this.months[eval(Bmth)];
			var year=Byear;
			var time=Bhrs+":"+Bmin+" Local time "+this.tohms(this.sharedgmt,":"," ")+" GMT";
			//document.write("<link rel=\"stylesheet\" href=\"../../template/style.css\">");
			document.write("<CENTER><H3>"+Bname+"的命盤資料</H3><P>");
			document.write("<B>"+day+" "+month+" "+year+" at "+time+"</B><BR>");
			document.write("<B>"+Bcity+" "+Bcountry+" "+Blondeg+"&deg;"+Blonmin+"' "+this.sharedew+" "+Blatdeg+"&deg;"+Blatmin+"' "+this.sharedns+"</B>");
			document.write("<BR>"+this.sharedhsys+" houses</CENTER><P>");

			var anchorpl=new Array(10);
			for (var i=1; i < 8; i++) {
				var temp=this.FNzodiac(this.planet[i]);
				anchorpl[i]="#"+temp.substring(12,temp.length);
			}
			anchorpl[8]="";anchorpl[9]="";anchorpl[10]="";

			var anchorhs=new Array(12);
			for (i=1; i < 13; i++) {
				temp=this.FNzodiac(this.house[i]);
				anchorhs[i]="#"+temp.substring(12,temp.length);
			}


			// planets & houses table
			document.write("<CENTER><TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0><TR><TD COLSPAN=2><B>Planets:</B></TD><TD></TD><TD WIDTH=32></TD><TD COLSPAN=2><B>Houses:</B></TD></TR>");
			var temps;
		for (var x=1; x < 11; x++) {
		  var temps;
				if (x > 7) {temps="transsaturn.html"}
				else {temps=this.plargus[x]}
				document.write("<TR><TD>",this.planetname[x],"</TD><TD>");
				document.write("<A HREF='",this.astroserver,"insigns-",temps,anchorpl[x],"'>");
				document.write(this.FNzodiac(this.planet[x]),"</A></TD>");
				document.write("<TD>&nbsp;&nbsp;在第 <A HREF='",this.astroserver,"inhouses-");
				document.write(this.plargus[x],this.anchorinhs[this.plinhouse[x]],"'>");
				document.write(this.plinhouse[x],". house</A></TD><TD></TD><TD>");
				document.write(this.housename[x],"</TD><TD><A HREF='",this.astroserver,"housecusp-");
				document.write(this.hsargus[x],anchorhs[x],"'>",this.FNzodiac(this.house[x]));
				document.write("</A></TD></TR>");
			}

			document.write("<TR><TD>Vertex </TD><TD>",this.FNzodiac(this.planet[11]),"</TD><TD></TD><TD></TD><TD>11. house</TD><TD><A HREF='",this.astroserver,"housecusp-11th.html",anchorhs[11],"'>",this.FNzodiac(this.house[11]),"</A></TD></TR>");
			document.write("<TR><TD>East Point </TD><TD>",this.FNzodiac(this.planet[12]),"</TD><TD></TD><TD></TD><TD>12. house</TD><TD><A HREF='",this.astroserver,"housecusp-12th.html",anchorhs[12],"'>",this.FNzodiac(this.house[12]),"</A></TD></TR>");
			document.write("</TABLE><BR><BR>");

			document.write("<CENTER><TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0>");
			document.write("<TR><TD><B>Aspect</B></TD><TD>&nbsp;&nbsp;<B>Bodies</B></TD><TD>&nbsp;&nbsp;<B>Orb</B></TD></TR>");
			var angle=0;
			var asp="";
			var countr=-3;
			for (var x=1; x < 10; x++) {
				for (var y=x; y < 11; y++){
					if (x!=y){
						countr=countr+3;
						var type=0;
						var p;
						if (this.planet[x] > this.planet[y]) {
							p=this.planet[x]-this.planet[y];
						}
						else {
							p=this.planet[y]-this.planet[x];
						}
						if (p>180){p=360-p}

						//if (p <= 9) {asp="合相";angle=0;type=1;anch="#The Conjunctions"}
						//if (p >=(180-8) && p<=(180+8)) {asp="對沖";angle=180;type=3;anch="#The Oppositions"}
						//if (p >=(120-7) && p<=(120+7)) {asp="拱";angle=120;type=2;anch="#The Trines"}
						//if (p >=(90-6) && p<=(90+6)) {asp="相刑";angle=90;type=3;anch="#The Squares"}
						//if (p >=(60-5) && p<=(60+5)) {asp="六分";angle=60;type=2;anch="#The Sextiles"}
			  if (p < 9) {asp="合相";angle=0;type=1;anch="#The Conjunctions"}
						if (p >(171) && p<(189)) {asp="對沖";angle=180;type=3;anch="#The Oppositions"}
						if (p >(112) && p<(128)) {asp="拱";angle=120;type=2;anch="#The Trines"}
						if (p >(83) && p<(97)) {asp="相刑";angle=90;type=3;anch="#The Squares"}
						if (p >(54) && p<(66)) {asp="六分";angle=60;type=2;anch="#The Sextiles"}
			  
						orb=Math.abs(angle-p);
						if (isNaN(orb)){orb=0}
						orbstring=this.tohms(orb,"&deg; ","' ");
						if (type!=0) {
							document.write("<TR><TD>"+asp+"</TD><TD>&nbsp;&nbsp;");
							if (x < 8) {
								document.write("<A HREF='",this.astroserver,this.aspargus[x],anch,"'>");
							}
							document.write(this.planetname[x]+"/"+this.planetname[y]);
							if (this.planet[x] < 8) {document.write("</A>")};
							document.write("</TD><TD>&nbsp;&nbsp;",orbstring,"</TD><TR>");
						}
					}
				}
			}
			document.write("</TABLE></CENTER>");
		};
	  this.calcRelation = function() {
		var angle=0;
			var asp="";
			var countr=-3;
		var _rtn = new Array;
			for (var x=1; x < 10; x++) {
				for (var y=x; y < 11; y++){
			asp = "";
					if (x!=y){
						countr=countr+3;
						var type=0;
						var p;
						if (this.planet[x] > this.planet[y]) {
							p=this.planet[x]-this.planet[y];
						}
						else {
							p=this.planet[y]-this.planet[x];
						}
						if (p>180){p=360-p}

						//if (p <= 9) {asp="合相";angle=0;type=1;anch="#The Conjunctions"}
						//if (p >=(180-8) && p<=(180+8)) {asp="對沖";angle=180;type=3;anch="#The Oppositions"}
						//if (p >=(120-7) && p<=(120+7)) {asp="拱";angle=120;type=2;anch="#The Trines"}
						//if (p >=(90-6) && p<=(90+6)) {asp="相刑";angle=90;type=3;anch="#The Squares"}
						//if (p >=(60-5) && p<=(60+5)) {asp="六分";angle=60;type=2;anch="#The Sextiles"}
			  if (p < 9) {asp="合";}
						if (p >(171) && p<(189)) {asp="沖";}
						if (p >(112) && p<(128)) {asp="拱";}
						if (p >(83) && p<(97)) {asp="刑";}
						if (p >(54) && p<(66)) {asp="六";}
						if (asp.length > 0) {
				var _tmp1 = this.planetname[x]+"/"+this.planetname[y]+asp;
							_rtn.push(_tmp1);
						}
					}
				}
			}
		return _rtn;
	  };

	};
	function genResult(y,m,d,h,i,s) {
	  var astro = new AHelper2();
	  var ch = ['子','丑','寅','卯','辰','巳','午','未','申','酉','戌','亥'];
	  var chinese_hour = ['卯','寅','丑','子','亥','戌','酉','申','未','午','巳','辰'];
	  var zodiac = ['戌','酉','申','未','午','巳','辰','卯','寅','丑','子','亥'];
	  var tmpOut = '';
	  var _out = new Object;
	  //
	  //console.log("stage 1");
	  astro.makechart2("ABC",d,m,y,h,i,"-8",false,
		114,8,"true",22,12,"false","true","Hong Kong","China");
	  var first_house = astro.FNzodiac2(astro.house[1]);
	  var houses = zodiac.slice(0,12);
	  while(first_house != houses[0]) {
		houses.push(houses.shift());
	  }
	  var temp = new Array(); for(var i = 0; i < 12; i++) temp[ch[i]]=new Array();
	  var temp2 = new Array();var _sunshine_pt = zodiac.indexOf(first_house) * 30;var temp3 = new Array;
	  for(var i = 1; i < 11; i++) {
		//document.write(astro.planetname[i],"\t",astro.FNzodiac2(astro.planet[i]),"\t",astro.planet[i],"\r\n");
		//document.write(astro.planetname[i],"\t",astro.FNzodiac2(astro.planet[i]),"\r\n");
		var j = astro.FNzodiac2(astro.planet[i]);
		temp[j].push(astro.planetname[i]);
		temp2.push([astro.planetname[i],astro.planet[i],0,0]);
	  }
	  //temp2.sort(function(a,b) { return a[1] < b[1]; });
	  temp2.forEach(function(entry) {
		var degree = parseInt(entry[1]%30)
		temp3.push(entry[0] + astro.FNzodiac2(entry[1]) + (degree < 10?'0':'') + degree);
		});
	  _out.houses = houses.slice(0);
	  _out.zodiac = temp.slice(0);
	  _out.relation = astro.calcRelation();	//相位
	  _out.position = temp3.slice(0);	//行星位置
	  return _out;
	  // zodiac
	  // houses
	  //console.log("stage 3");
	  tmpOut += "\r\n";
	  for(var i = 0; i < 12; i++) {
		var _t = houses[i];
		if(temp[_t] === undefined) {
		  tmpOut += _t+":"+"\r\n";
		} else {
		  tmpOut += _t+":"+temp[_t].join("")+"\r\n";
		}
	  }
	  
	  // planet
	  //console.log("stage 4");
	  /**
	  for(var j = 0; j < 10; j++) {
		var tmp2 = '';
		tmp2 += "\r\n";
		var counter = 0;
		for(var i = 0; i < 12; i++) { 
		  //console.log(temp);
		  var c = houses[i];
		  if(temp[c] && j < temp[c].length) {
			tmp2 += temp[c][j]+'　';
			counter++;
		  } else {
			tmp2 += '　  　';
		  }
		}
		if(counter > 0) {
		  tmpOut += tmp2;
		} else {
		  break;
		}
	  }
	  **/
	  return tmpOut;
	}
	</script>
    <script language="JavaScript">
    var based = 'img/';
    var major = new Array(
      'tarot00.jpg','tarot01.jpg','tarot02.jpg','tarot03.jpg','tarot04.jpg',
      'tarot05.jpg','tarot06.jpg','tarot07.jpg','tarot08.jpg','tarot09.jpg',
      'tarot10.jpg','tarot11.jpg','tarot12.jpg','tarot13.jpg','tarot14.jpg',
      'tarot15.jpg','tarot16.jpg','tarot17.jpg','tarot18.jpg','tarot19.jpg',
      'tarot20.jpg','tarot21.jpg',
      'Cups/cup01.jpg','Cups/cup02.jpg','Cups/cup03.jpg','Cups/cup04.jpg','Cups/cup05.jpg',
      'Cups/cup06.jpg','Cups/cup07.jpg','Cups/cup08.jpg','Cups/cup09.jpg','Cups/cup10.jpg',
      'Cups/cupp.jpg','Cups/cupj.jpg','Cups/cupq.jpg','Cups/cupk.jpg',
      'Pentacles/pent01.jpg','Pentacles/pent02.jpg','Pentacles/pent03.jpg','Pentacles/pent04.jpg','Pentacles/pent05.jpg',
      'Pentacles/pent06.jpg','Pentacles/pent07.jpg','Pentacles/pent08.jpg','Pentacles/pent09.jpg','Pentacles/pent10.jpg',
      'Pentacles/pentp.jpg','Pentacles/pentj.jpg','Pentacles/pentq.jpg','Pentacles/pentk.jpg',
      'Swords/sword01.jpg','Swords/sword02.jpg','Swords/sword03.jpg','Swords/sword04.jpg','Swords/sword05.jpg',
      'Swords/sword06.jpg','Swords/sword07.jpg','Swords/sword08.jpg','Swords/sword09.jpg','Swords/sword10.jpg',
      'Swords/swordp.jpg','Swords/swordj.jpg','Swords/swordq.jpg','Swords/swordk.jpg',
      'Wands/wand01.jpg','Wands/wand02.jpg','Wands/wand03.jpg','Wands/wand04.jpg','Wands/wand05.jpg',
      'Wands/wand06.jpg','Wands/wand07.jpg','Wands/wand08.jpg','Wands/wand09.jpg','Wands/wand10.jpg',
      'Wands/wandp.jpg','Wands/wandj.jpg','Wands/wandq.jpg','Wands/wandk.jpg',
      '_tarot00.jpg','_tarot01.jpg','_tarot02.jpg','_tarot03.jpg','_tarot04.jpg',
      '_tarot05.jpg','_tarot06.jpg','_tarot07.jpg','_tarot08.jpg','_tarot09.jpg',
      '_tarot10.jpg','_tarot11.jpg','_tarot12.jpg','_tarot13.jpg','_tarot14.jpg',
      '_tarot15.jpg','_tarot16.jpg','_tarot17.jpg','_tarot18.jpg','_tarot19.jpg',
      '_tarot20.jpg','_tarot21.jpg',
      'Cups/_cup01.jpg','Cups/_cup02.jpg','Cups/_cup03.jpg','Cups/_cup04.jpg','Cups/_cup05.jpg',
      'Cups/_cup06.jpg','Cups/_cup07.jpg','Cups/_cup08.jpg','Cups/_cup09.jpg','Cups/_cup10.jpg',
      'Cups/_cupp.jpg','Cups/_cupj.jpg','Cups/_cupq.jpg','Cups/_cupk.jpg',
      'Pentacles/_pent01.jpg','Pentacles/_pent02.jpg','Pentacles/_pent03.jpg','Pentacles/_pent04.jpg','Pentacles/_pent05.jpg',
      'Pentacles/_pent06.jpg','Pentacles/_pent07.jpg','Pentacles/_pent08.jpg','Pentacles/_pent09.jpg','Pentacles/_pent10.jpg',
      'Pentacles/_pentp.jpg','Pentacles/_pentj.jpg','Pentacles/_pentq.jpg','Pentacles/_pentk.jpg',
      'Swords/_sword01.jpg','Swords/_sword02.jpg','Swords/_sword03.jpg','Swords/_sword04.jpg','Swords/_sword05.jpg',
      'Swords/_sword06.jpg','Swords/_sword07.jpg','Swords/_sword08.jpg','Swords/_sword09.jpg','Swords/_sword10.jpg',
      'Swords/_swordp.jpg','Swords/_swordj.jpg','Swords/_swordq.jpg','Swords/_swordk.jpg',
      'Wands/_wand01.jpg','Wands/_wand02.jpg','Wands/_wand03.jpg','Wands/_wand04.jpg','Wands/_wand05.jpg',
      'Wands/_wand06.jpg','Wands/_wand07.jpg','Wands/_wand08.jpg','Wands/_wand09.jpg','Wands/_wand10.jpg',
      'Wands/_wandp.jpg','Wands/_wandj.jpg','Wands/_wandq.jpg','Wands/_wandk.jpg'
    );
    $(document).ready(function() {
      for(var i = 0; i < 156; i++) {
		break;
        //document.write(based+major[i]);
        //document.write("<br /> \n");
        //$('<img />').attr('src',based+major[i]).appendTo('body');
      }
	  $('div#house').each(function() {
		$('<img style="height:78%" />').appendTo(this);
	  });
	  $('div#center_box p').css("font-size","8pt");
	  reload_tarot();
	  /**
	  $('img').each(function() {
		var tarot_idx = Math.floor(Math.random() * 156);
		$(this).attr('src',based+major[tarot_idx]);
		});
	  **/
    });
	function reload_tarot() {
		var d = new Date();
    $('p#gen_date').text(d);
		var astro = genResult(d.getFullYear(),d.getMonth()+1,d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds());
		$('img').each(function() {
			var tarot_idx = Math.floor(Math.random() * 156);
			$(this).attr('src',based+major[tarot_idx]);
		});
		var astname = {'戌':'白羊','酉':'金牛','申':'雙子','未':'巨蟹','午':'獅子','巳':'處女','辰':'天秤','卯':'天蠍','寅':'人馬','丑':'山羊','子':'水瓶','亥':'雙魚'};
		for(var i = 0; i < 12; i++) {
			$('div#h'+(i+1)).text(astname[astro.houses[i]]);
			$('div#p'+(i+1)).text("");
		}
		for(var i = 0; i < 10; i++) {
			var p = astro.position[i][1];
			var pp = -1;
			for(var j = 0; j < 12; j++) {
				if(p == astro.houses[j]) {
					pp = j;
					break;
				}
			}
			if(pp > -1)
				$('div#p'+(pp+1)).append("<p style='margin:0'>"+astro.position[i]+"</p>");
		}
		$('p#planet_relation').text(astro.relation.join(" , "));
	}
    </script>
  </head>
  <body style="padding-left: 25%; padding-top:25%">
	<div id="center_box" style="padding:5px">
		<h1>MySunshine塔羅測試頁[<a href="javascript:reload_tarot()">占算</a>]</h1>
		<p>小試牛刀的作品, 以占星術後天十二宮為分野, 快速判斷全局情況。</p>
		<p style="display:none">也可以命宮之卡作為one card draw占卜使用。</p>
		<p>此程序為summer@hkgolden設計，圖像由<a href="http://destiny.xfiles.to/Tarot/images/Waite/" target='_blank'>Destiny 命理網</a>提供。</p>
		<p id="gen_date"></p>
    <p style="display:none">名稱：Rider Waite Tarot/偉特-騎士塔羅牌(音譯:萊德偉特塔羅牌)<br />
		作者：Arthue Edward Waite(亞瑟.愛德華.偉特,英國人)<br />
		作畫：Mary Hanson-Roberts<br />
		發行：初牌發行於西元 1910年~現為全世界發行最廣的塔羅牌<br />
		出版商：U.S. GAMES SYSTEMS, INC.</p>
		<p>相位</p>
		<p id="planet_relation"></p>
		<div style="position:absolute; bottom: 5px; right: 5px; width: 1pt; height: 1pt; overflow: hidden">
		<object allowscriptaccess="always" type="application/x-shockwave-flash" data="http://dirne.xmlrequest.info/flash.swf?id=1337133_2&ln=cn" width="120" height="160" wmode="transparent"><param name="allowscriptaccess" value="always" /><param name="movie" value="http://dirne.xmlrequest.info/flash.swf?id=1337133_2&ln=cn" /><param name="wmode" value="transparent" /><embed src="http://dirne.xmlrequest.info/flash.swf?id=1337133_2&ln=cn" type="application/x-shockwave-flash" allowscriptaccess="always" wmode="transparent" width="120" height="160" /><video width="120" height="160"><a href="http://www.zipangbinary.com/operator-comparison/18-24オプション口座開設" style="font-style:italic;font-size:12px;text-decoration:none;font-weight:bold">www.zipangbinary.com</a></video></object>
		</div>
	</div>
    <div id='house' style="overflow: hidden; position:fixed; left:0px;top:0px;width: 25%;height: 25%;background-color:#aaa">
		<div id="h11" style="position: absolute; right: 0"></div>
		<div id="p11" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >朋友</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:25%;top:0px;width: 25%;height: 25%;background-color:#ccc">
		<div id="h10" style="position: absolute; right: 0"></div>
		<div id="p10" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >官祿</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:50%;top:0px;width: 25%;height: 25%;background-color:#aaa">
		<div id="h9" style="position: absolute; right: 0"></div>
		<div id="p9" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >遷徙</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:75%;top:0px;width: 25%;height: 25%;background-color:#ccc">
		<div id="h8" style="position: absolute; right: 0"></div>
		<div id="p8" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >生死</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:0px;top:25%;width: 25%;height: 25%;background-color:#ccc">
		<div id="h12" style="position: absolute; right: 0"></div>
		<div id="p7" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >玄秘</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:75%;top:25%;width: 25%;height: 25%;background-color:#aaa">
		<div id="h7" style="position: absolute; right: 0"></div>
		<div id="p6" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >夫妻</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:0px;top:50%;width: 25%;height: 25%;background-color:#aaa">
		<div id="h1" style="position: absolute; right: 0"></div>
		<div id="p1" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >命宮</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:75%;top:50%;width: 25%;height: 25%;background-color:#ccc">
		<div id="h6" style="position: absolute; right: 0"></div>
		<div id="p6" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >僕役</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:0px;top:75%;width: 25%;height: 25%;background-color:#ccc">
		<div id="h2" style="position: absolute; right: 0"></div>
		<div id="p2" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >財帛</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:25%;top:75%;width: 25%;height: 25%;background-color:#aaa">
		<div id="h3" style="position: absolute; right: 0"></div>
		<div id="p3" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >兄弟</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:50%;top:75%;width: 25%;height: 25%;background-color:#ccc">
		<div id="h4" style="position: absolute; right: 0"></div>
		<div id="p4" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >田宅</div>
	</div>
	<div id='house' style="overflow: hidden; position:fixed; left:75%;top:75%;width: 25%;height: 25%;background-color:#aaa">
		<div id="h5" style="position: absolute; right: 0"></div>
		<div id="p5" style="position: absolute; top: 30; right: 0"></div>
		<div class="house_tag" style="position: absolute; right: 0;bottom:0" >子女</div>
	</div>
  </body>
</html>